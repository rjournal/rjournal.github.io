<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

<style>
  div.csl-bib-body { }
  div.csl-entry {
    clear: both;
      margin-bottom: 0em;
    }
  .hanging div.csl-entry {
    margin-left:2em;
    text-indent:-2em;
  }
  div.csl-left-margin {
    min-width:2em;
    float:left;
  }
  div.csl-right-inline {
    margin-left:2em;
    padding-left:1em;
  }
  div.csl-indent {
    margin-left: 2em;
  }
</style>

  <!--radix_placeholder_meta_tags-->
<title>text2sdg: An R Package to Monitor Sustainable Development Goals from Text</title>

<meta property="description" itemprop="description" content="Monitoring progress on the United Nations Sustainable Development&#10;Goals (SDGs) is important for both academic and non-academic&#10;organizations. Existing approaches to monitoring SDGs have focused on&#10;specific data types; namely, publications listed in proprietary&#10;research databases. We present the text2sdg package for the R&#10;language, a user-friendly, open-source package that detects SDGs in&#10;text data using different individual query systems, an ensemble of&#10;query systems, or custom-made ones. The text2sdg package thereby&#10;facilitates the monitoring of SDGs for a wide array of text sources&#10;and provides a much-needed basis for validating and improving extant&#10;methods to detect SDGs from text."/>

<link rel="canonical" href="https://doi.org/10.32614/RJ-2024-005/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>
<link rel="icon" type="image/vnd.microsoft.icon" href="../../resources/favicon.ico"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2025-01-10"/>
<meta property="article:created" itemprop="dateCreated" content="2025-01-10"/>
<meta name="article:author" content="Dominik S. Meier"/>
<meta name="article:author" content="Rui Mata"/>
<meta name="article:author" content="Dirk U. Wulff"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="text2sdg: An R Package to Monitor Sustainable Development Goals from Text"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Monitoring progress on the United Nations Sustainable Development&#10;Goals (SDGs) is important for both academic and non-academic&#10;organizations. Existing approaches to monitoring SDGs have focused on&#10;specific data types; namely, publications listed in proprietary&#10;research databases. We present the text2sdg package for the R&#10;language, a user-friendly, open-source package that detects SDGs in&#10;text data using different individual query systems, an ensemble of&#10;query systems, or custom-made ones. The text2sdg package thereby&#10;facilitates the monitoring of SDGs for a wide array of text sources&#10;and provides a much-needed basis for validating and improving extant&#10;methods to detect SDGs from text."/>
<meta property="og:url" content="https://doi.org/10.32614/RJ-2024-005/"/>
<meta property="og:image" content="https://journal.r-project.org/articles/RJ-2024-005/default_plot_revision.png"/>
<meta property="og:image:width" content="1440"/>
<meta property="og:image:height" content="720"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="The R Journal"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="text2sdg: An R Package to Monitor Sustainable Development Goals from Text"/>
<meta property="twitter:description" content="Monitoring progress on the United Nations Sustainable Development&#10;Goals (SDGs) is important for both academic and non-academic&#10;organizations. Existing approaches to monitoring SDGs have focused on&#10;specific data types; namely, publications listed in proprietary&#10;research databases. We present the text2sdg package for the R&#10;language, a user-friendly, open-source package that detects SDGs in&#10;text data using different individual query systems, an ensemble of&#10;query systems, or custom-made ones. The text2sdg package thereby&#10;facilitates the monitoring of SDGs for a wide array of text sources&#10;and provides a much-needed basis for validating and improving extant&#10;methods to detect SDGs from text."/>
<meta property="twitter:url" content="https://doi.org/10.32614/RJ-2024-005/"/>
<meta property="twitter:image" content="https://journal.r-project.org/articles/RJ-2024-005/default_plot_revision.png"/>
<meta property="twitter:image:width" content="1440"/>
<meta property="twitter:image:height" content="720"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="text2sdg: An R Package to Monitor Sustainable Development Goals from Text"/>
<meta name="citation_fulltext_html_url" content="https://doi.org/10.32614/RJ-2024-005"/>
<meta name="citation_pdf_url" content="RJ-2024-005.pdf"/>
<meta name="citation_volume" content="16"/>
<meta name="citation_issue" content="1"/>
<meta name="citation_doi" content="10.32614/RJ-2024-005"/>
<meta name="citation_journal_title" content="The R Journal"/>
<meta name="citation_issn" content="2073-4859"/>
<meta name="citation_firstpage" content="83"/>
<meta name="citation_lastpage" content="95"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2025/01/10"/>
<meta name="citation_publication_date" content="2025/01/10"/>
<meta name="citation_author" content="Dominik S. Meier"/>
<meta name="citation_author_institution" content="University of Basel"/>
<meta name="citation_author" content="Rui Mata"/>
<meta name="citation_author_institution" content="University of Basel"/>
<meta name="citation_author" content="Dirk U. Wulff"/>
<meta name="citation_author_institution" content="University of Basel"/>
<!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=SDG ontology;citation_author=N Bautista"/>
  <meta name="citation_reference" content="citation_title=The Sustainable Development Goals Report 2022;citation_publisher=United Nations;citation_author= UN"/>
  <meta name="citation_reference" content="citation_title=Identifying research supporting the united nations sustainable development goals;citation_volume=1;citation_author=Bammini Jayabalasingham;citation_author=Roy Boverhof;citation_author=Kevin Agnew;citation_author=Lisette Klein"/>
  <meta name="citation_reference" content="citation_title=Search Queries for &quot;Mapping Research Output to the Sustainable Development Goals (SDGs)&quot; v5.0;citation_publisher=Zenodo;citation_author=Maurice Vanderfeesten;citation_author=René Otten;citation_author=Eike Spielberg"/>
  <meta name="citation_reference" content="citation_title=A controlled vocabulary defining the semantic perimeter of Sustainable Development Goals;citation_publisher=Zenodo;citation_author=Nicolau Duran-Silva;citation_author=Enric Fuster;citation_author=Francesco Alessandro Massucci;citation_author=Arnau Quinquillà"/>
  <meta name="citation_reference" content="citation_title=Compiled list of SDG keywords;citation_author=Compiled list of SDG keywords"/>
  <meta name="citation_reference" content="citation_title=Survey data of &quot;Mapping Research Output to the Sustainable Development Goals (SDGs)&quot;;citation_publisher=Zenodo;citation_doi=10.5281/zenodo.3813230;citation_author=Maurice Vanderfeesten;citation_author=Eike Spielberg;citation_author=Yassin Gunes"/>
  <meta name="citation_reference" content="citation_title=Corpustools: Managing, querying and analyzing tokenized text;citation_author=Kasper Welbers;citation_author=Wouter Atteveldt"/>
  <meta name="citation_reference" content="citation_title=Readr: Read rectangular text data;citation_author=Hadley Wickham;citation_author=Jim Hester;citation_author=Jennifer Bryan"/>
  <meta name="citation_reference" content="citation_title=ggplot2: Elegant graphics for data analysis;citation_publisher=Springer-Verlag New York;citation_author=Hadley Wickham"/>
  <meta name="citation_reference" content="citation_title=Mapping research to the sustainable development goals (SDGs);citation_author=Weiwei Wang;citation_author=Weihao Kang;citation_author=Jingwen Mu"/>
  <meta name="citation_reference" content="citation_title=Using novel data and ensemble models to improve automated labeling of sustainable development goals;citation_author=Dirk U Wulff;citation_author=Dominik S Meier;citation_author=Rui Mata"/>
  <meta name="citation_reference" content="citation_title=Topicmodels: An r package for fitting topic models;citation_volume=40;citation_doi=https://doi.org/10.18637/jss.v040.i13;citation_author=Bettina Grün;citation_author=Kurt Hornik"/>
  <meta name="citation_reference" content="citation_title=Sentence-bert: Sentence embeddings using siamese bert-networks;citation_doi=https://doi.org/10.48550/arXiv.1908.10084;citation_author=Nils Reimers;citation_author=Iryna Gurevych"/>
  <meta name="citation_reference" content="citation_title=Cogltx: Applying bert to long texts;citation_volume=33;citation_author=Ming Ding;citation_author=Chang Zhou;citation_author=Hongxia Yang;citation_author=Jie Tang"/>
  <meta name="citation_reference" content="citation_title=OSDG 2.0: A multilingual tool for classifying text data by UN sustainable development goals (SDGs);citation_publisher=arXiv;citation_doi=10.48550/ARXIV.2211.11252;citation_author=Lukas Pukelis;citation_author=Nuria Bautista-Puig;citation_author=Gustė Statulevičiūtė;citation_author=Vilius Stančiauskas;citation_author=Gokhan Dikmener;citation_author=Dina Akylbekova"/>
  <meta name="citation_reference" content="citation_title=Cognitive network science: A review of research on cognition through the lens of network representations, processes, and dynamics;citation_publisher=Hindawi;citation_volume=2019;citation_doi=https://doi.org/10.1155/2019/2108423;citation_author=Cynthia SQ Siew;citation_author=Dirk U Wulff;citation_author=Nicole M Beckage;citation_author=Yoed N Kenett"/>
  <meta name="citation_reference" content="citation_title=OSDG–open-source approach to classify text data by UN sustainable development goals (SDGs);citation_doi=https://doi.org/10.48550/arXiv.2005.14569;citation_author=Lukas Pukelis;citation_author=Núria Bautista Puig;citation_author=Mykola Skrynik;citation_author=Vilius Stanciauskas"/>
  <meta name="citation_reference" content="citation_title=Descriptions of SNSF-funded research projects;citation_publisher=Zenodo;citation_doi=10.5281/zenodo.11060662;citation_author=Dominik S. Meier"/>
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","date_received","journal","volume","issue","slug","citation_url","packages","preview","bibliography","CTV","legacy_pdf","legacy_converted","output","draft","pdf_url","doi","creative_commons","csl","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["text2sdg: An R Package to Monitor Sustainable Development Goals from Text"]},{"type":"character","attributes":{},"value":["Monitoring progress on the United Nations Sustainable Development\nGoals (SDGs) is important for both academic and non-academic\norganizations. Existing approaches to monitoring SDGs have focused on\nspecific data types; namely, publications listed in proprietary\nresearch databases. We present the text2sdg package for the R\nlanguage, a user-friendly, open-source package that detects SDGs in\ntext data using different individual query systems, an ensemble of\nquery systems, or custom-made ones. The text2sdg package thereby\nfacilitates the monitoring of SDGs for a wide array of text sources\nand provides a much-needed basis for validating and improving extant\nmethods to detect SDGs from text."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation","address"]}},"value":[{"type":"character","attributes":{},"value":["Dominik S. Meier"]},{"type":"character","attributes":{},"value":["University of Basel"]},{"type":"character","attributes":{},"value":["Steinengraben 22 4051 Basel","Switzerland","(ORCID: 0000-0002-3999-1388)","[dominik.meier@unibas.ch](dominik.meier@unibas.ch){.uri}\n"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation","address"]}},"value":[{"type":"character","attributes":{},"value":["Rui Mata"]},{"type":"character","attributes":{},"value":["University of Basel"]},{"type":"character","attributes":{},"value":["Missionsstrasse 60-62 4055 Basel","Switzerland","(ORCID: 0000-0002-1679-906X)","[rui.mata@unibas.ch](rui.mata@unibas.ch){.uri}\n"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation","address"]}},"value":[{"type":"character","attributes":{},"value":["Dirk U. Wulff"]},{"type":"character","attributes":{},"value":["University of Basel"]},{"type":"character","attributes":{},"value":["Missionsstrasse 60-62 4055 Basel","Switzerland","(ORCID: 0000-0002-4008-8022)","[dirk.wulff@unibas.ch](dirk.wulff@unibas.ch){.uri}\n"]}]}]},{"type":"character","attributes":{},"value":["2025-01-10"]},{"type":"character","attributes":{},"value":["2022-09-13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","issn","firstpage","lastpage"]}},"value":[{"type":"character","attributes":{},"value":["The R Journal"]},{"type":"character","attributes":{},"value":["2073-4859"]},{"type":"integer","attributes":{},"value":[83]},{"type":"integer","attributes":{},"value":[95]}]},{"type":"integer","attributes":{},"value":[16]},{"type":"integer","attributes":{},"value":[1]},{"type":"character","attributes":{},"value":["RJ-2024-005"]},{"type":"character","attributes":{},"value":["https://doi.org/10.32614/RJ-2024-005"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["cran","bioc"]}},"value":[{"type":"character","attributes":{},"value":["text2sdg","corpustools","readr","ggplot2","deeplr","SDGdetector"]},{"type":"list","attributes":{},"value":[]}]},{"type":"character","attributes":{},"value":["preview.png"]},{"type":"character","attributes":{},"value":["text2sdg.bib"]},{"type":"character","attributes":{},"value":["ChemPhys","Phylogenetics","Spatial","TeachingStatistics","WebTechnologies"]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","mathjax","md_extension"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"]},{"type":"character","attributes":{},"value":["-tex_math_single_backslash"]}]}]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["RJ-2024-005.pdf"]},{"type":"character","attributes":{},"value":["10.32614/RJ-2024-005"]},{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["/home/mitchell/R/x86_64-pc-linux-gnu-library/4.4/rjtools/rjournal.csl"]},{"type":"character","attributes":{},"value":["https://doi.org/10.32614/RJ-2024-005/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["benchmark_revision_final.pdf","benchmark_revision_final.png","default_plot_revision.pdf","default_plot_revision.png","default_plot_sdg_labels_revision.pdf","default_plot_sdg_labels_revision.png","resubmission_response.txt","RJ-2024-005_files/anchor-4.2.2/anchor.min.js","RJ-2024-005_files/bowser-1.9.3/bowser.min.js","RJ-2024-005_files/distill-2.2.21/template.v2.js","RJ-2024-005_files/header-attrs-2.29/header-attrs.js","RJ-2024-005_files/jquery-3.6.0/jquery-3.6.0.js","RJ-2024-005_files/jquery-3.6.0/jquery-3.6.0.min.js","RJ-2024-005_files/jquery-3.6.0/jquery-3.6.0.min.map","RJ-2024-005_files/popper-2.6.0/popper.min.js","RJ-2024-005_files/tippy-6.2.7/tippy-bundle.umd.min.js","RJ-2024-005_files/tippy-6.2.7/tippy-light-border.css","RJ-2024-005_files/tippy-6.2.7/tippy.css","RJ-2024-005_files/tippy-6.2.7/tippy.umd.min.js","RJ-2024-005_files/webcomponents-2.0.0/webcomponents.js","RJ-2024-005.pdf","RJournal.sty","RJwrapper.log","RJwrapper.tex","text2sdg.bib","text2sdg.tex"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.7);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(0, 0, 0, 0.8);
  --text-size:        15px;
  --hover-color:      black;
  --bkgd-color:       #ffffff;
}

.distill-site-footer {
  --text-color:       rgba(0, 0, 0, 0.8);
  --text-size:        15px;
  --hover-color:      black;
  --bkgd-color:       #fafafa;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

.nav-right > a {
  text-transform: uppercase;
}

d-title h1, d-title p, d-title figure,
d-abstract p, d-abstract b {
  grid-column: page;
}

.rj-blue {
  color: #2467bb;
}

ul li {
  line-height: 1.6;
  margin-top: 0em;
  margin-bottom: 0em;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.29/header-attrs.js"></script>
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->
  <script>
    $(function() {
      console.log("Starting...")

      // Always show Published - distill hides it if not set
      function show_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'visible');
      }

      show_byline_column('Published')

      // tweak function
      var rmd_meta = JSON.parse($("#radix-rmarkdown-metadata").html());
      function get_meta(name, meta) {
        var ind = meta.attributes.names.value.findIndex((e) => e == name)
        var val = meta.value[ind]
        if (val.type != 'list') {
          return val.value.toString()
        }
        return val
      }

      // tweak description
      // Add clickable tags
      const slug = get_meta('slug', rmd_meta)
      const cite_url = get_meta('citation_url', rmd_meta)

      var title = $("d-title").text

      const buttons = $('<div class="dt-tags" style="grid-column: page;">')
      buttons.append('<a href="#citation" class="dt-tag"><i class="fas fa-quote-left"></i> Cite</a>')
      buttons.append('<a href="' + slug + '.pdf" class="dt-tag"><i class="fas fa-file-pdf"></i> PDF</a>')
      buttons.append('<a href="' + slug + '.zip" class="dt-tag"><i class="fas fa-file-zipper"></i> Supplement</a>')

      // adds Abstract: in front of the first <p> in the title section --
      // unless it happens to be the subtitle (FIXME: this is a bad hack - can't distill do this?)
      var tpar = $("d-title p:not(:empty)").first();
      if (tpar && ! tpar.hasClass("subtitle")) {
        const abstract = $('<d-abstract>')
        abstract.append('<b>Abstract:</b><br>')
        abstract.append($("d-title p:not(:empty)").first()) // Move description to d-abstract
        $("d-title p:empty").remove() // Remove empty paragraphs after title
        abstract.append(buttons)
        abstract.insertAfter($('d-title')) // Add abstract section after title */
      }

      // tweak by-line
      var byline = $("d-byline div.byline")
      ind = rmd_meta.attributes.names.value.findIndex((e) => e == "journal")
      const journal = get_meta('journal', rmd_meta)
      const volume = get_meta('volume', rmd_meta)
      const issue = get_meta('issue', rmd_meta)
      const jrtitle = get_meta('title', journal)
      const year = ((jrtitle == "R News") ? 2000 : 2008) + parseInt(volume)
      const firstpage = get_meta('firstpage', journal)
      const lastpage = get_meta('lastpage', journal)
      byline.append('<div class="rjournal grid">')
      $('div.rjournal').append('<h3>Volume</h3>')
      $('div.rjournal').append('<h3>Pages</h3>')
      $('div.rjournal').append('<a class="volume" href="../../issues/'+year+'-'+issue+'">'+volume+'/'+issue+'</a>')
      $('div.rjournal').append('<p class="pages">'+firstpage+' - '+lastpage+'</p>')

      const received_date = new Date(get_meta('date_received', rmd_meta))
      byline.find('h3:contains("Published")').parent().append('<h3>Received</h3><p>'+received_date.toLocaleDateString('en-US', {month: 'short'})+' '+received_date.getDate()+', '+received_date.getFullYear()+'</p>')

    })
  </script>

  <style>
      /*
    .nav-dropdown-content .nav-dropdown-header {
      text-transform: lowercase;
    }
    */

    d-byline .byline {
      grid-template-columns: 2fr 2fr 2fr 2fr;
    }

    d-byline .rjournal {
      grid-column-end: span 2;
      grid-template-columns: 1fr 1fr;
      margin-bottom: 0;
    }

    d-title h1, d-title p, d-title figure,
    d-abstract p, d-abstract b {
      grid-column: page;
    }

    d-title .dt-tags {
      grid-column: page;
    }

    .dt-tags .dt-tag {
      text-transform: lowercase;
    }

    d-article h1 {
      line-height: 1.1em;
    }

    d-abstract p, d-article p {
      text-align: justify;
    }

    @media(min-width: 1000px) {
      .d-contents.d-contents-float {
        justify-self: end;
      }

      nav.toc {
        border-right: 1px solid rgba(0, 0, 0, 0.1);
        border-right-width: 1px;
        border-right-style: solid;
        border-right-color: rgba(0, 0, 0, 0.1);
      }
    }

    .posts-list .dt-tags .dt-tag {
      text-transform: lowercase;
    }

    @keyframes highlight-target {
      0% {
        background-color: #ffa;
      }
      66% {
        background-color: #ffa;
      }
      100% {
        background-color: none;
      }
    }

    d-article :target, d-appendix :target {
       animation: highlight-target 3s;
    }

    .header-section-number {
      margin-right: 0.5em;
    }
    
    d-appendix .citation-appendix,
    .d-appendix .citation-appendix {
      color: rgb(60, 60, 60);
    }

    d-article h2 {
      border-bottom: 0px solid rgba(0, 0, 0, 0.1);
      padding-bottom: 0rem;
    }
    d-article h3 {
      font-size: 20px;
    }
    d-article h4 {
      font-size: 18px;
      text-transform: none;
    }

    @media (min-width: 1024px) {
      d-article h2 {
        font-size: 32px;
      }
      d-article h3 {
        font-size: 24px;
      }
      d-article h4 {
        font-size: 20px;
      }
    }
  </style>


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"text2sdg: An R Package to Monitor Sustainable Development Goals from Text","description":"Monitoring progress on the United Nations Sustainable Development\nGoals (SDGs) is important for both academic and non-academic\norganizations. Existing approaches to monitoring SDGs have focused on\nspecific data types; namely, publications listed in proprietary\nresearch databases. We present the text2sdg package for the R\nlanguage, a user-friendly, open-source package that detects SDGs in\ntext data using different individual query systems, an ensemble of\nquery systems, or custom-made ones. The text2sdg package thereby\nfacilitates the monitoring of SDGs for a wide array of text sources\nand provides a much-needed basis for validating and improving extant\nmethods to detect SDGs from text.","doi":"10.32614/RJ-2024-005","authors":[{"author":"Dominik S. Meier","authorURL":"#","affiliation":"University of Basel","affiliationURL":"#","orcidID":""},{"author":"Rui Mata","authorURL":"#","affiliation":"University of Basel","affiliationURL":"#","orcidID":""},{"author":"Dirk U. Wulff","authorURL":"#","affiliation":"University of Basel","affiliationURL":"#","orcidID":""}],"publishedDate":"2025-01-10T00:00:00.000+00:00","citationText":"Meier, et al., 2025"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="../../index.html">
<img src="../../resources/rlogo.png" alt="Logo"/>
</a>
<a href="../../index.html" class="title">The R Journal</a>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../issues.html">Issues</a>
<a href="../../news.html">News</a>
<a href="../../issues/2024-1">Current</a>
<a href="../../submissions.html">Submit</a>
<a href="../../articles.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>text2sdg: An R Package to Monitor Sustainable Development Goals from Text</h1>

<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Monitoring progress on the United Nations Sustainable Development
Goals (SDGs) is important for both academic and non-academic
organizations. Existing approaches to monitoring SDGs have focused on
specific data types; namely, publications listed in proprietary
research databases. We present the text2sdg package for the R
language, a user-friendly, open-source package that detects SDGs in
text data using different individual query systems, an ensemble of
query systems, or custom-made ones. The text2sdg package thereby
facilitates the monitoring of SDGs for a wide array of text sources
and provides a much-needed basis for validating and improving extant
methods to detect SDGs from text.</p></p>
</div>

<div class="d-byline">
  Dominik S. Meier  (University of Basel)
  
,   Rui Mata  (University of Basel)
  
,   Dirk U. Wulff  (University of Basel)
  
<br/>2025-01-10
</div>

<div class="d-article">
<div class="article">
<h3 data-number="1" id="introduction"><span class="header-section-number">1</span> Introduction</h3>
<p>The United Nations Sustainable Development Goals (SDGs) have become an
important guideline for both governmental and non-governmental
organizations to monitor and plan their contributions to social,
economic, and environmental transformations. The 17 SDGs cover large
areas of application, from ending poverty and improving health, to
fostering economic growth and preserving natural resources. As the
latest UN report <span class="citation" data-cites="SGD_report2022">(<a href="#ref-SGD_report2022" role="doc-biblioref">UN 2022</a>)</span> attests, the availability of
high-quality data is still lacking in many of these areas and progress
is needed in identifying data sources that can help monitor work on
these goals. Monitoring of SDGs has typically been based on economic and
health data, which are often difficult and costly to gather (e.g.,
<a href="https://sdg-tracker.org/" class="uri">https://sdg-tracker.org/</a>; <a href="https://www.sdgindex.org/" class="uri">https://www.sdgindex.org/</a>). One attractive
alternative that has emerged from recent scientometric efforts is to
detect SDGs from text, such as academic publications. Digitized text
represents an attractive resource for monitoring SDGs across a large
number of domains because it is becoming widely available in various
types of documents, such as news articles, websites, corporate reports,
and social media posts. In light of this promise, we developed
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>, a freely
available, open-source tool to enable the SDG-labeling of digitized text
and facilitate methodological development in this area. In what follows,
we first present some background on existing labeling systems developed
to identify SDGs from text, and then provide an overview of the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package,
showcase its use in a representative case study, and discuss the promise
and limitations of the approach.</p>
<h3 data-number="2" id="an-overview-of-sdg-labeling-systems"><span class="header-section-number">2</span> An overview of SDG labeling systems</h3>
<p>The <a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package
provides a user-friendly way to use any existing or custom-made labeling
system developed to monitor the 17 SDGs in text sources. The package
implements six different labeling systems utilizing different keywords
and keyword combination rules, as well as an ensemble model based on the
six systems that was trained on labeled data. In the following, we will
first introduce the six existing labeling systems, namely the Elsevier,
Aurora, Auckland, SIRIS, SDGO, and SDSN systems, before discussing how
these systems are combined within the ensemble approach. See table
<a href="#tab:systems_overview">1</a> for overview of these labeling systems. We
address custom-made labeling systems in a dedicated section below.</p>
<h4 class="unnumbered" data-number="2.1" id="individual-labeling-systems">Individual labeling systems</h4>
<p>The most prominent SDG labeling system has been developed by <em>Elsevier</em>.
The Elsevier labeling system was integrated into the Times Higher
Education Impact Rankings in 2019, which at the time compared 1,118
universities in their efforts to address the SDGs as measured by the
frequency of SDG-related terms in their academic output. The Elsevier
queries consist of a list of expert-vetted keywords that are combined
using logical AND operators, implying that multiple keywords must be met
to label a document as containing a certain SDG. The development of the
queries started with an original list of keywords for each SDG that were
iteratively fine tuned to maximize the number of identified papers
closely reflecting the different SDGs. This involved cropping or
combining keywords to reduce the number of irrelevant hits. A detailed
report on the initial development of the Elsevier query system is
provided by <span class="citation" data-cites="jayabalasingham2019identifying">Jayabalasingham et al. (<a href="#ref-jayabalasingham2019identifying" role="doc-biblioref">2019</a>)</span>. Since the first version,
the Elsevier labeling system has been iteratively improved, with the
latest versions including additional information specific to academic
publications and the Scopus database, such as identifiers of journal
names or research areas.
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> implements
the latest version without such additional identifiers to broaden the
package’s applicability beyond the Scopus database
<span class="citation" data-cites="jayabalasingham2019identifying">(<a href="#ref-jayabalasingham2019identifying" role="doc-biblioref">Jayabalasingham et al. 2019</a>)</span>.</p>
<p>The Aurora Universities Network’s "Societal Impact and Relevance of
Research" working group started to develop a labeling system in 2017 to
increase the visibility of research into the SDGs. Aurora’s queries were
developed with the goal of identifying SDG-related academic publications
included in the Scopus database. Consequently, the syntax of Aurora
queries is similar to the Scopus query language and the Elsevier system.
However, in contrast to the Elsevier system, the queries combine
keywords in a more complex fashion, recruiting Boolean (AND, OR) and
proximity operators (e.g., w/3, implying within 3 words). As a result,
Aurora’s keywords are more specific, possibly leading to a smaller
number of false positives. The initial version of the Aurora system only
included terms that appear in the SDG policy text of the targets and
indicators defined by the United Nations. Subsequent versions expanded
on this by including additional keywords that reflect academic
terminology. <a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>
implements version 5.0 of the Aurora labeling system
<span class="citation" data-cites="vanderfeesten_maurice_2020_3817445">(<a href="#ref-vanderfeesten_maurice_2020_3817445" role="doc-biblioref">Vanderfeesten et al. 2020a</a>)</span>. This version represents an
improvement on previous versions based on a survey study
<span class="citation" data-cites="vanderfeesten_maurice_2020_3813230">(<a href="#ref-vanderfeesten_maurice_2020_3813230" role="doc-biblioref">Vanderfeesten et al. 2020b</a>)</span> and modifications inspired in
other efforts, namely those from Elsevier (above) and SIRIS (introduced
below).</p>
<p>The Auckland labeling system <span class="citation" data-cites="wang2023mapping">(<a href="#ref-wang2023mapping" role="doc-biblioref">Wang et al. 2023</a>)</span> was developed by the
University of Auckland to better understand how their research output
contributes to the SDGs. To construct the queries, they used text-mining
techniques to extract global and local SDG keywords from publication
metadata. These keywords were then sorted according to the number of
publications that include the terms and according to the keywords’ term
frequency–inverse document frequency. The top-ranked keywords were then
manually reviewed to only retain keywords that are relevant. The
selected keywords were then combined with those of SDSN and Elsevier as
well as UN SDG Indicators to form the final SDG keyword list. These
queries formed the basis for the Auckland queries, which make use of
Boolean (AND, OR) operators and wildcards (e.g., "*").</p>
<p>The SIRIS labeling system <span class="citation" data-cites="duran_silva_nicolau_2019_3567769">(<a href="#ref-duran_silva_nicolau_2019_3567769" role="doc-biblioref">Duran-Silva et al. 2019</a>)</span> was
created by SIRIS Academic as part of the
<a href="http://science4sdgs.sirisacademic.com/">"science4sdgs"</a> project to
better understand how science, innovation efforts, and technology
related to the SDGs. The SIRIS queries were constructed in a five-step
procedure. First, an initial list of keywords was extracted from the
United Nations official list of goals, targets and indicators. Second,
the list was manually enriched on a basis of a review of SDG relevant
literature. Third, a word2vec model that was trained on a text corpus
created from the enriched keyword list was used to identify keywords
that were semantically related to the initial list. Fourth, using the
DBpedia API, keywords were added that, according to the Wikipedia
corpus, had a categorical relationship with the initial list. Fifth, and
finally, the keyword list was manually revised. The queries of the SIRIS
labeling system primarily consist of individual keywords that
occasionally are combined with a logical AND.
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> implements
the only currently available version of the SIRIS labeling system
<span class="citation" data-cites="duran_silva_nicolau_2019_3567769">(<a href="#ref-duran_silva_nicolau_2019_3567769" role="doc-biblioref">Duran-Silva et al. 2019</a>)</span> .</p>
<p>The Open Source SDG (OSDG) project combines data from multiple sources
to detect SDGs in text. Instead of developing yet another query system,
OSDG’s aim was to re-use and integrate existing knowledge by combining
multiple SDG "ontologies" (i.e., query systems). OSDG has also made
use of Microsoft Academic Graph to improve their results but because our
query-based system cannot implement this procedure, we adopt the simpler
ontology initially proposed by OSDG, which we refer to as "SDGO" in
the package. The labeling system was based on central keywords in the
SDG United Nations description (e.g."sanitation" was classified into
"SDG6") and then manually expanded with additional relevant keywords
identified from a corpus of already labeled documents. The resulting
keyword list only makes use of the OR operator.
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> implements
the only currently available version of these queries <span class="citation" data-cites="Bautista2019">(<a href="#ref-Bautista2019" role="doc-biblioref">Bautista 2019</a>)</span>.</p>
<p>Finally, the Sustainable Development Solutions Network <span class="citation" data-cites="sdsn">(SDSN, <a href="#ref-sdsn" role="doc-biblioref">Sustainable Development Solutions Network (SDSN) 2021</a>)</span>
labeling system contains SDG-specific keywords compiled in a
collaborative effort by several universities from the Sustainable
Development Solutions Network (SDSN) Australia, New Zealand &amp; Pacific
Network. This query system was developed to detect SDGs in large sets of
university-related text data, such as course listings or research
publications. The authors used United Nations documents, Google
searches, and personal communications as sources for the keywords. This
query system combines keywords with OR operators and does not make use
of AND operators.</p>
<p>All in all, as can be seen in Table <a href="#tab:systems_overview">1</a>, the
latter systems differ from the former four in the complexity of their
queries: the Elsevier, Aurora, Auckland, and SIRIS systems make use of
keyword-combination queries and other criteria, such as proximity
operators, whereas SDGO and SDSN only make use of keywords.</p>
<div id="tab:systems_overview">
<table style="width:99%;">
<caption>Table 1: Overview of the labeling systems implemented in
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>. Legend:
OR—keywords are combined using logical ORs, implying that only the
keywords must be matched to assign an SDG label; AND—keywords are
combined using logical ANDs, implying that multiple keywords must be
matched to assign an SDG label; wildcards—keywords are matched
considering different keyword parts; proximity search—keywords must
co-occur within a certain word window to assign an SDG label.</caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 9%" />
<col style="width: 22%" />
<col style="width: 21%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Labeling system</th>
<th style="text-align: left;">SDGs covered</th>
<th style="text-align: left;">Query operators</th>
<th style="text-align: left;">Unique keywords per SDG (mean &amp; SD)</th>
<th style="text-align: left;">Example query (SDG-01)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Elsevier</td>
<td style="text-align: left;">SDG 1 - SDG 16</td>
<td style="text-align: left;">OR, AND, wildcards</td>
<td style="text-align: left;">(21.7)</td>
<td style="text-align: left;">"extreme poverty"</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aurora</td>
<td style="text-align: left;">SDG 1 - SDG 17</td>
<td style="text-align: left;">OR, AND, wildcards, proximity search</td>
<td style="text-align: left;">(31.6)</td>
<td style="text-align: left;">("poverty") W/3 ("chronic*" OR "extreme")</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Auckland</td>
<td style="text-align: left;">SDG 1 - SDG 16</td>
<td style="text-align: left;">OR, AND, wildcards</td>
<td style="text-align: left;">(46.5)</td>
<td style="text-align: left;">"poverty eradication"</td>
</tr>
<tr class="even">
<td style="text-align: left;">SIRIS</td>
<td style="text-align: left;">SDG 1 - SDG 16</td>
<td style="text-align: left;">OR, AND</td>
<td style="text-align: left;"><span class="math inline">\(148\)</span></td>
<td style="text-align: left;">("anti-poverty") AND ("poverty" OR "vulnerability")</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SDGO</td>
<td style="text-align: left;">SDG 1 - SDG 17</td>
<td style="text-align: left;">OR</td>
<td style="text-align: left;"><span class="math inline">\(236\)</span></td>
<td style="text-align: left;">"absolute poverty"</td>
</tr>
<tr class="even">
<td style="text-align: left;">SDSN</td>
<td style="text-align: left;">SDG 1 - SDG 17</td>
<td style="text-align: left;">OR</td>
<td style="text-align: left;">(16.8)</td>
<td style="text-align: left;">"End poverty"</td>
</tr>
</tbody>
</table>
</div>
<h4 class="unnumbered" data-number="2.2" id="the-ensemble-labeling-system">The ensemble labeling system</h4>
<p>In another publication <span class="citation" data-cites="wulff2023using">(<a href="#ref-wulff2023using" role="doc-biblioref">Wulff et al. 2023</a>)</span>, we evaluated the accuracy of
the six labeling systems implemented by
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> and a rival
approach <span class="citation" data-cites="pukelis2020osdg">(i.e., OSDG <a href="#ref-pukelis2020osdg" role="doc-biblioref">Pukelis et al. 2020</a>)</span> using expert-labeled data sets.
These analyses lead to three critical observations. First, the accuracy
of SDG classifications was reasonable for all systems, but varied
considerably as a function of the data set. This is because the systems
differ in how liberal or conservative they assign SDGs to texts due to
differences in the types of query operators they employ. Specifically,
employing only OR-operators, SDGO and SDSN were considerably more
liberal, whereas the other four systems employing additional operators
were more conservative. In other words, the systems implement different
trade-offs between sensitivity (i.e., true-positive rate) and
specificity (i.e., true-negative rate). As a result, SDGO and SDSN
outperformed the other systems for SDG-rich documents and vice versa. In
addition to these differences in accuracy, we observed critical biases
in SDG profiles, with the systems overemphasizing different sets of
SDGs, and strong dependencies between SDG predictions and document
length. To address these limitations, we developed an ensemble model
approach that uses the the predictions of the six systems and document
length as inputs to a random forest model. After training with
expert-labeled and synthetic data, the ensemble model showed better
out-of-sample accuracy, lower false alarm rates, and smaller biases than
any individual labeling system <span class="citation" data-cites="wulff2023using">(<a href="#ref-wulff2023using" role="doc-biblioref">Wulff et al. 2023</a>)</span>. As a result, this
ensemble model is also made available through
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> using a
dedicated function.</p>
<p>In the following sections, we provide an overview over the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> R package
and demonstrate how its functions can be used to run to detect and
analyze SDGs in text.</p>
<h3 data-number="3" id="the-text2sdg-package"><span class="header-section-number">3</span> The text2sdg package</h3>
<h4 class="unnumbered" data-number="3.1" id="motivation-for-text2sdg">Motivation for text2sdg</h4>
<p>Despite the effort put into developing various labeling systems and
their great promise in addressing the SDG-related data scarcity, extant
implementations of these approaches are not without shortcomings. First,
the labeling systems were mostly developed to be used within academic
citation databases (e.g., Scopus) and are not easily applied to other
text sources. Second, existing implementations lack transparent ways to
communicate which features are matched to which documents or how they
compare between a choice of labeling systems. We alleviate these
shortcomings by providing an open-source solution,
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>, that lets
users detect SDGs in any kind of text using any of the above-mentioned
systems, and ensemble of systems, or even customized, user-made labeling
systems. The package provides a common framework for implementing the
different extant or novel approaches and makes it easy to quantitatively
compare and visualize their results.</p>
<h4 class="unnumbered" data-number="3.2" id="overview-of-text2sdg-package">Overview of text2sdg package</h4>
<p>At the heart of the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package are
the Lucene-style queries that are used to detect SDGs in text and the
ensemble models that build on these queries. The queries map text
features (i.e., words or a combination of words) to SDGs. For example, a
text that contains the words "fisheries" and "marine" would be
mapped to SDG 14 (i.e., conserve and sustainably use the oceans, seas
and marine resources for sustainable development) by the Aurora system.
To enable the use of such queries in R, the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package
recruits the
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a>
package <span class="citation" data-cites="corpustools">(<a href="#ref-corpustools" role="doc-biblioref">Welbers and van Atteveldt 2021</a>)</span>.
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a> has
been built to implement complex search queries and execute them
efficiently for large amounts of text. Based on this,
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> provides
several functions that implement extant labeling systems, facilitate the
specification of new labeling systems, and analyze and visualize search
results. Table <a href="#tab:functions_overview">2</a> gives an overview of the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> core
functions.</p>
<p>The main functions of
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> are
<code>detect_sdg</code> and <code>detect_sdg_systems</code>, which implement the ensemble
model approach <span class="citation" data-cites="wulff2023using">(<a href="#ref-wulff2023using" role="doc-biblioref">Wulff et al. 2023</a>)</span> and the implemented labeling systems,
respectively, to identify SDGs in texts. The texts are provided to these
functions via the <code>text</code> argument as either a character vector or an
object of class <code>"tCorpus"</code> from
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a>. All
other arguments are optional. By default, the <code>detect_sdg_systems</code>
function runs only the Aurora, Auckland, Elsevier, and SIRIS systems,
but the set systems can be extended to all six systems using the
<code>system</code> argument. The functions further allow customization of the set
of SDGs using the <code>sdgs</code> argument and return a <code>tibble</code> with one row per
hit that has the following columns (and types) (italic column names only
present in the tibble returned by <code>detect_sdg_systems</code>):</p>
<ul>
<li><p>document (factor) - index of element in the character vector or
corpus supply for text</p></li>
<li><p>sdg (character) - labels indicating the matched SDGs</p></li>
<li><p>system (character) - the query or ensemble system that produced the
match</p></li>
<li><p><em>query_id</em> (integer) - identifier of query in the query system</p></li>
<li><p><em>features</em> (character) - words in the document that were matched by
the query</p></li>
<li><p>hit (numeric) - running index of matches for each system</p></li>
</ul>
<p>Further details on the <code>detect_sdg</code> and <code>detect_sdg_systems</code> functions
and their output will be presented in the next section.</p>
<p>The <code>detect_any</code> function implements the same functionality as
<code>detect_sdg_systems</code>, but permits the user to specify customized or
self-defined queries. These queries are specified via the <code>queries</code>
argument and must follow the syntax of the
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a>
package (see Practical Considerations section for more details).</p>
<p>To support the interpretation of SDG labels generated by <code>detect_sdg</code>,
<code>detect_sdg_systems</code> and <code>detect_any</code>,
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> further
provides the <code>plot_sdg</code> and <code>crosstab_sdg</code> functions. The <code>plot_sdg</code>
function visualizes the distribution of SDG labels identified in
documents by means of a customizable barplot showing SDG frequencies for
the different labeling systems. The <code>crosstab_sdg</code> function helps reveal
patterns of label co-occurrences either across SDGs or systems, which
can be controlled using the <code>compare</code> argument.</p>
<div id="tab:functions_overview">
<table style="width:99%;">
<caption>Table 2: Overview of package functions</caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Function Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>detect_sdg</code></td>
<td style="text-align: left;">identifies SDGs in text using an ensemble model that draws on the six labeling systems (Elsevier, Aurora, Auckland, SIRIS, SDGO, SDSN).</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>detect_sdg_systems</code></td>
<td style="text-align: left;">identifies SDGs in text by using labeling systems (Elsevier, Aurora, Auckland, SIRIS, SDGO, SDSN).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">detect_any</td>
<td style="text-align: left;">similar to <code>detect_sdg</code> but identifies SDGs in text using user-defined queries.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>crosstab_sdg</code></td>
<td style="text-align: left;">crosstab_sdg takes the output of detect_sdg, detect_sdg_systems, or detect_any as input and determines correlations between either query systems or SDGs.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>plot_sdg</code></td>
<td style="text-align: left;">takes the output of detect_sdg, detect_sdg_systems, or detect_any as input and produces adjustable barplots illustrating the hit frequencies produced by the different query systems.</td>
</tr>
</tbody>
</table>
</div>
<h3 data-number="4" id="demonstrating-the-functionality-of-text2sdg"><span class="header-section-number">4</span> Demonstrating the functionality of text2sdg</h3>
<p>To showcase the functionalities of the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package we
analyze the publicly available p3 dataset of the Swiss National Science
Foundation (SNSF) that lists research projects funded by the SNSF. In
addition to demonstrating
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>, the case
study will permit us to discuss practical issues concerning the labeling
of SDGs, including relevant differences between labeling systems. The
data to reproduce the analyses presented below can be found at
<a href="https://doi.org/10.5281/zenodo.11060662" class="uri">https://doi.org/10.5281/zenodo.11060662</a> <span class="citation" data-cites="meier_2024_11060662">(<a href="#ref-meier_2024_11060662" role="doc-biblioref">Meier 2024</a>)</span>.</p>
<h4 class="unnumbered" data-number="4.1" id="preparing-the-snsf-projects-data">Preparing the SNSF projects data</h4>
<p>The SNSF projects data was downloaded from
<a href="https://data.snf.ch/datasets" class="uri">https://data.snf.ch/datasets</a>. As of March 2022, the p3 database
included information on 81,237 research projects. From the data, we
removed 54,288 projects where the abstract was absent or not written in
English. This left us with a total of 26,949 projects. To ready this
data for analysis, we read it using the <code>readr</code> function of the
<a href="https://CRAN.R-project.org/package=readr"><strong>readr</strong></a> package <span class="citation" data-cites="readr">(<a href="#ref-readr" role="doc-biblioref">Wickham et al. 2021</a>)</span>,
producing a <code>tibble</code> named <code>projects</code>. A reduced version of this
<code>tibble</code> is included in the
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package and
available through the <code>projects</code> object after
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> has been
loaded.</p>
<h4 class="unnumbered" data-number="4.2" id="using-detect_sdg-and-detect_sdg_systems-to-detect-sdgs">Using <code>detect_sdg</code> and <code>detect_sdg_systems</code> to detect SDGs</h4>
<p>To label the abstracts in <code>projects</code> using <code>detect_sdg</code>, we only have to
supply the character vector that includes the abstracts to the <code>text</code>
argument of the <code>detect_sdg</code> function. In addition the example below
makes use of the <code>synthetic</code> argument to implement the <code>"equal"</code>
(default) and <code>"triple"</code> version of the ensemble model. As a result, two
versions of the ensemble model are run that were trained on an equal
amount of synthetic (non-SDG related) and expert-labeled data and three
times the amount of synthetic than labeled data, respectively. A larger
amount of synthetic data in training lowers the false-positive rate, but
also compromises accuracy <span class="citation" data-cites="wulff2023using">(cf. <a href="#ref-wulff2023using" role="doc-biblioref">Wulff et al. 2023</a> for more details)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># detect SDGs</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sdgs_ensemble <span class="ot">&lt;-</span> <span class="fu">detect_sdg</span>(<span class="at">text =</span> projects,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                             <span class="at">synthetic =</span> <span class="fu">c</span>(<span class="st">&quot;equal&quot;</span>,<span class="st">&quot;triple&quot;</span>))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Running systems</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>Obtaining text lengths</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>Building features</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>Running ensemble</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(sdgs_ensemble)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 × 4</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  document sdg    system            hit</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>           <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">22</span>       SDG<span class="dv">-06</span> Ensemble equal   <span class="dv">2539</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">39</span>       SDG<span class="dv">-03</span> Ensemble equal    <span class="dv">498</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">39</span>       SDG<span class="dv">-07</span> Ensemble equal   <span class="dv">2953</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">39</span>       SDG<span class="dv">-08</span> Ensemble equal   <span class="dv">4080</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">41</span>       SDG<span class="dv">-13</span> Ensemble equal   <span class="dv">5690</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">41</span>       SDG<span class="dv">-13</span> Ensemble triple  <span class="dv">3684</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
<p>The first two columns of the <code>tibble</code> returned by <code>detect_sdg</code> show the
document and SDGs identified by the model. Further columns show the
system producing the hit and a running hit index for a given system. As
the predictions of the six individual labeling systems are used as input
for the ensemble models, they will be computed in the background. The
user can access these predictions by calling
<code>attr(sdgs_ensemble, "system_hits")</code>. Alternatively, the user can use
the <code>detect_sdg_systems</code> function, which provides additional options for
customization.</p>
<p>As with the <code>detect_sdg</code> function, the <code>detect_sdg_systems</code> function
requires a character vector as input to the <code>text</code> argument. In
addition, the example below specifies two optional arguments. First, to
indicate that all six systems should be run, rather than the default of
only Aurora, Auckland, Elsevier, and SIRIS, we supply a character vector
of all six systems’ names to the <code>systems</code> argument. Second, we
explicitly set the <code>output</code> argument to <code>“features”</code>, which in contrast
to <code>output = “documents”</code> delivers more detailed information about which
keywords that triggered the SDG labels.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># detect SDGs</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sdgs <span class="ot">&lt;-</span> <span class="fu">detect_sdg_systems</span>(<span class="at">text =</span> projects,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                            <span class="at">systems =</span> <span class="fu">c</span>(<span class="st">&quot;Aurora&quot;</span>, <span class="st">&quot;Elsevier&quot;</span>, <span class="st">&quot;Auckland&quot;</span>, <span class="st">&quot;SIRIS&quot;</span>, <span class="st">&quot;SDSN&quot;</span>, <span class="st">&quot;SDGO&quot;</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                            <span class="at">output =</span> <span class="st">&quot;features&quot;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>Running Aurora</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>Running Elsevier</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>Running Auckland</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>Running SIRIS</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>Running SDSN</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>Running SDGO</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(sdgs)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 × 6</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  document sdg    system query_id features      hit</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">1</span>        SDG<span class="dv">-01</span> SDSN        <span class="dv">392</span> sustainable     <span class="dv">4</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">1</span>        SDG<span class="dv">-02</span> SDSN        <span class="dv">376</span> maize           <span class="dv">3</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">1</span>        SDG<span class="dv">-02</span> SDSN        <span class="dv">629</span> sustainable     <span class="dv">8</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">1</span>        SDG<span class="dv">-08</span> SDGO       <span class="dv">3968</span> work            <span class="dv">1</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">1</span>        SDG<span class="dv">-08</span> SDSN        <span class="dv">812</span> work           <span class="dv">11</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">1</span>        SDG<span class="dv">-09</span> SDSN        <span class="dv">483</span> research        <span class="dv">6</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
<p>The above <code>tibble</code> produced by
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> contains for
every combination of document, SDG, system, and query (columns 1 to 4),
the query feature (keyword) that triggered the label (column 5), and a
hit index for a given system (column 6). The first row of the <code>tibble</code>
thus shows that the query 392 within SDSN labeled document number 1 with
SDG-01, because the document included the feature <em>sustainable</em>, and
that this was the fourth hit produced by the SDSN system. It is
important to note that, in other cases, multiple features of a query
might be matched, which will result in multiple rows per combination of
document, SDG, system, and query. This can be avoided by setting the
<code>output</code> argument to <code>“documents”</code>, in which case all features’ hits of
such combinations will be grouped into a single row.</p>
<h4 class="unnumbered" data-number="4.3" id="analyzing-the-sdg-labels">Analyzing the SDG labels</h4>
<p>To visualize the distribution of SDG labels across SDGs and systems in
the <code>sdgs</code> <code>tibble</code>, we apply the <code>plot_sdg</code> function. By default,
<code>plot_sdg</code> shows a barplot of the number of documents labeled by each of
the SDGs, with the frequencies associated with the different systems
stacked on top of each other. The function counts a maximum of one hit
per document-system-SDG combination. Duplicate combinations resulting
from hits by multiple queries or keywords in queries will be suppressed
by default and the function returns a message reporting the number of
cases affected.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">plot_sdg</span>(sdgs)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">139048</span> duplicate hits removed. Set remove_duplicates <span class="ot">=</span> <span class="cn">FALSE</span> to retain duplicates.</span></code></pre></div>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:figuredefault-plot"></span>
<img src="default_plot_revision.png" alt="graphic without alt text" width="100%" />
<p class="caption">
Figure 1: Default plot of distribution of detected SDGs.
</p>
</div>
</div>
<p>The plot produced by <code>plot_sdg</code> (Figure  <a href="#fig:figuredefault-plot">1</a>)
shows considerable differences in the frequency of different SDGs, with
SDGs 3 (“Good Health and Well-Being”) and 9 (“Industry, Innovation And
Infrastructure”) being most frequent and SDGs 5 (“Gender Equality”) and
14 (“Life Below Water”) being least frequent. Furthermore, there are
substantial differences in the number of labels produced by different
systems, with SDSN and SDGO having produced many more labels than the
other three systems.</p>
<p>To customize the visualization of SDG frequencies, the <code>plot_sdg</code>
function provides several additional arguments. For instance, by setting
<code>sdg_titles</code> to <code>TRUE</code>, the SDG titles will be added to the annotation
of the plot. Other arguments are <code>normalize</code> to show probabilities
instead of frequencies, <code>color</code> to change the filling of bars, and
<code>remove_duplicates</code> to eliminate duplicate document-system-SDG
combinations. Furthermore, as <code>plot_sdg</code> is built on
<a href="https://CRAN.R-project.org/package=ggplot2"><strong>ggplot2</strong></a> <span class="citation" data-cites="ggplot2">(<a href="#ref-ggplot2" role="doc-biblioref">Wickham 2016</a>)</span>,
the function can easily be extended by functions from the
<a href="https://CRAN.R-project.org/package=ggplot2"><strong>ggplot2</strong></a> universe. To
illustrate these points, the code below generates a plot (Figure
 <a href="#fig:figuredefault-plot-facetted">2</a>) that includes SDG titles and
separates the results of the different SDG systems using facets.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">plot_sdg</span>(sdgs, </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>          <span class="at">sdg_titles =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   ggplot2<span class="sc">::</span><span class="fu">facet_wrap</span>(<span class="sc">~</span>system, <span class="at">ncol=</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dv">139048</span> duplicate hits removed. Set remove_duplicates <span class="ot">=</span> <span class="cn">FALSE</span> to retain duplicates.</span></code></pre></div>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:figuredefault-plot-facetted"></span>
<img src="default_plot_sdg_labels_revision.png" alt="graphic without alt text" width="100%" />
<p class="caption">
Figure 2: Distribution of detected SDGs facetted by system.
</p>
</div>
</div>
<p>The separation of systems better illustrates the results of systems that
produce fewer hits and helps compare the results across systems. This
reveals, for instance, that in the Elsevier system SDG 3 (“Good Health
and Well-Being”) was most prominent, whereas in the Aurora system this
was SDG 13 ("Climate Action”). These results highlight that the
different labeling systems do not necessarily agree concerning the
assignment of SDGs to documents.</p>
<p>To quantify the commonalities and differences between labeling systems,
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> provides the
<code>crosstab_sdg</code> function. The function evaluates the level of alignment
across either systems (the default) or SDGs by calculating <span class="math inline">\(\phi\)</span>
coefficients between the vectors of labels. We supply the <code>hits</code>
argument of the function with the <code>sdgs</code> <code>tibble</code> containing the labels
produced by <code>detect_sdg</code>. Note that the function only considers distinct
combinations of documents, systems and SDGs, irrespective of whether the
<code>detect_sdg</code> function was run using <code>output = “documents”</code> or
<code>output = "features”</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">crosstab_sdg</span>(sdgs)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>          Auckland    Aurora  Elsevier      SDGO      SDSN     SIRIS</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>Auckland <span class="fl">1.0000000</span> <span class="fl">0.3345247</span> <span class="fl">0.6676524</span> <span class="fl">0.3314806</span> <span class="fl">0.2896650</span> <span class="fl">0.4115387</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>Aurora   <span class="fl">0.3345247</span> <span class="fl">1.0000000</span> <span class="fl">0.3256877</span> <span class="fl">0.1614586</span> <span class="fl">0.1569791</span> <span class="fl">0.3703457</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>Elsevier <span class="fl">0.6676524</span> <span class="fl">0.3256877</span> <span class="fl">1.0000000</span> <span class="fl">0.2642918</span> <span class="fl">0.2192051</span> <span class="fl">0.3538272</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>SDGO     <span class="fl">0.3314806</span> <span class="fl">0.1614586</span> <span class="fl">0.2642918</span> <span class="fl">1.0000000</span> <span class="fl">0.3722997</span> <span class="fl">0.2244774</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>SDSN     <span class="fl">0.2896650</span> <span class="fl">0.1569791</span> <span class="fl">0.2192051</span> <span class="fl">0.3722997</span> <span class="fl">1.0000000</span> <span class="fl">0.2330684</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>SIRIS    <span class="fl">0.4115387</span> <span class="fl">0.3703457</span> <span class="fl">0.3538272</span> <span class="fl">0.2244774</span> <span class="fl">0.2330684</span> <span class="fl">1.0000000</span></span></code></pre></div>
<p>The output of <code>crosstab_sdg()</code> for the SNSF projects reveals two
noteworthy insights. First, the correspondence between the labels of
different systems is rather small, as indicated by <span class="math inline">\(\phi\)</span> coefficients
that are mostly smaller than 0.4. Second, there are two groups of
systems that are more similar to one another. On the one hand, Elsevier,
Auckland, Aurora, and SIRIS, and, on the other hand, SDGO and SDSN.
These groups correspond to differences in query operators, with the
former four including AND operators in their queries, whereas the latter
two do not. <code>crosstab_sdg()</code> can also be called with the output from the
ensemble models.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">crosstab_sdg</span>(sdgs_ensemble)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                Ensemble equal Ensemble triple</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>Ensemble equal       <span class="fl">1.0000000</span>       <span class="fl">0.8127837</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>Ensemble triple      <span class="fl">0.8127837</span>       <span class="fl">1.0000000</span></span></code></pre></div>
<p>It can further be informative to analyze the correlations between SDGs.
To do this, we set the <code>compare</code> argument in <code>crosstab_sdg()</code> to
<code>"sdgs"</code>. The output below shows the result for the first six SDGs by
setting <code>sdgs = 1:6</code>. It can be seen that certain pairs of SDGs—in
particular, SDG-01 and SDG-02—co-occur more frequently. These results
may provide insights into the co-occurrence structure of SDGs in the
data at hand. However, these results can also highlight the importance
of considering similarities between queries targeting different SDGs.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">crosstab_sdg</span>(sdgs, <span class="at">compare =</span> <span class="st">&quot;sdgs&quot;</span>, <span class="at">sdgs =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>           SDG<span class="dv">-01</span>     SDG<span class="dv">-02</span>     SDG<span class="dv">-03</span>     SDG<span class="dv">-04</span>     SDG<span class="dv">-05</span>     SDG<span class="dv">-06</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>SDG<span class="dv">-01</span> <span class="fl">1.00000000</span> <span class="fl">0.47455139</span> <span class="fl">0.04811778</span> <span class="fl">0.07928418</span> <span class="fl">0.14252372</span> <span class="fl">0.16622948</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>SDG<span class="dv">-02</span> <span class="fl">0.47455139</span> <span class="fl">1.00000000</span> <span class="fl">0.10611662</span> <span class="fl">0.06751253</span> <span class="fl">0.09338952</span> <span class="fl">0.17504027</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>SDG<span class="dv">-03</span> <span class="fl">0.04811778</span> <span class="fl">0.10611662</span> <span class="fl">1.00000000</span> <span class="fl">0.18092227</span> <span class="fl">0.10936179</span> <span class="fl">0.04882173</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>SDG<span class="dv">-04</span> <span class="fl">0.07928418</span> <span class="fl">0.06751253</span> <span class="fl">0.18092227</span> <span class="fl">1.00000000</span> <span class="fl">0.11791600</span> <span class="fl">0.07887042</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>SDG<span class="dv">-05</span> <span class="fl">0.14252372</span> <span class="fl">0.09338952</span> <span class="fl">0.10936179</span> <span class="fl">0.11791600</span> <span class="fl">1.00000000</span> <span class="fl">0.04603253</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>SDG<span class="dv">-06</span> <span class="fl">0.16622948</span> <span class="fl">0.17504027</span> <span class="fl">0.04882173</span> <span class="fl">0.07887042</span> <span class="fl">0.04603253</span> <span class="fl">1.00000000</span></span></code></pre></div>
<h3 data-number="5" id="practical-considerations"><span class="header-section-number">5</span> Practical considerations</h3>
<h4 class="unnumbered" data-number="5.1" id="specifying-user-defined-labeling-systems">Specifying user-defined labeling systems</h4>
<p>The query systems implemented in
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> represent
important efforts to systematize the monitoring of SDGs from text.
Nevertheless, these efforts are still relatively young and validations
of the systems are largely missing, creating a need for continued
development. <a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>
supports the further development of new SDG labeling systems by
providing the <code>detect_any</code> function. In this section, we provide
additional detail on using this feature of
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>.</p>
<p>The <code>detect_any</code> function also uses
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a> as the
back-end. This implies that new queries must be specified to match the
syntax of
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a>. The
syntax supports standard Boolean operators (AND, OR, and NOT), wildcard
operators, and proximity search. Boolean operators control how different
keywords are combined in a query. For instance, the query "marine OR
fisheries" matches text that contains either of these two words whereas
the query "marine AND fisheries" only matches text that contains both
words. Corpustools also allows to specify common query wildcard
operators <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. The wildcard operators <span class="math inline">\(?\)</span> and <span class="math inline">\(*\)</span> allow the
specification of variable word parts. For instance, the question mark
operator <span class="math inline">\(?\)</span> matches one unknown character or no character at all, e.g.,
"?ish" would match "fish", "dish", or "ish". The asterisk
operator <span class="math inline">\(*\)</span>, by contrast, matches any number of unknown characters,
e.g., "*ish" would match "fish" but also "Swedish". Both
wildcards can be used at the start, within or end of a term. Proximity
search extends a Boolean AND, by requiring that two keywords have no
more than defined distances to one another. For instance, "climate
change"<span class="math inline">\(\sim\)</span><!-- -->3 specifies matches in which "climate"
and "change" both occur no more than three words apart. A complete
description of the
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a> syntax
is presented in the
<a href="https://CRAN.R-project.org/package=corpustools"><strong>corpustools</strong></a>
vignette and documentation.</p>
<p>To supply a user-defined labeling system to <code>detect_any</code>, the queries
must be placed in a <code>data.frame</code> or <code>tibble</code> that additionally includes
a column specifying the labeling system’s name and a column of SDG
labels corresponding to the queries.</p>
<ul>
<li><p>system (character) - name of the labeling systems.</p></li>
<li><p>queries (character) - user-defined queries.</p></li>
<li><p>sdg (integer) - SDGs labels assigned by queries.</p></li>
</ul>
<p>The example below illustrates the application of a user-defined labeling
system using <code>detect_any</code>. First, a <code>tibble</code> is defined that includes
three rows, one for each of three different queries stored in the
<code>query</code> column. The system is called <code>"my_example_system"</code> in the
<code>system</code> column and each of the queries is assigned SDG-14 in the <code>sdg</code>
column. Note that specification of the labeling system need not be made
in R, but can easily be outsourced to a spreadsheet that is then
processed into a <code>tibble</code>. Second, the system is supplied to the
<code>system</code> argument of the <code>detect_any</code> function, along with the texts
(here, the SNSF abstracts). The output is analogous to the output of the
<code>detect_sdg_systems</code> function (for brevity, we only show the first three
lines of the output).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># definition of query set</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> my_example_system <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">system =</span> <span class="st">&quot;my_example_system&quot;</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                             <span class="at">query =</span> <span class="fu">c</span>(<span class="st">&quot;marine AND fisheries&quot;</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                                        <span class="st">&quot;(&#39;marine fisheries&#39;) AND sea&quot;</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                                        <span class="st">&quot;?ish&quot;</span>),</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                             <span class="at">sdg =</span> <span class="fu">c</span>(<span class="dv">14</span>,<span class="dv">14</span>,<span class="dv">14</span>))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">detect_any</span>(<span class="at">text =</span> projects, </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>            <span class="at">system =</span> my_example_system)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 591 × 6</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>   document sdg    system            query_id features   hit</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> <span class="dv">6</span>        SDG<span class="dv">-14</span> my_example_system        <span class="dv">3</span> wish       <span class="dv">122</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> <span class="dv">134</span>      SDG<span class="dv">-14</span> my_example_system        <span class="dv">3</span> wish        <span class="dv">18</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> <span class="dv">241</span>      SDG<span class="dv">-14</span> my_example_system        <span class="dv">3</span> fish        <span class="dv">59</span></span></code></pre></div>
<h4 class="unnumbered" data-number="5.2" id="applying-text2sdg-to-non-english-data">Applying text2sdg to non-English data</h4>
<p>The queries of the labeling systems implemented by
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> are in
English, implying that texts in other languages must first be translated
to English. We assessed feasibility and whether translation affects the
reliability of SDG labels by making use of back translation with one
language we are most familiar with (German). To this end, we first
translated 1,500 randomly selected SNSF project abstracts from English
to German and from German to English and then compared the labels of the
original English and back-translated English abstracts. We carried out
the translation using the DeepL translation engine
(<a href="https://www.deepl.com/translator">www.deepl.com/translator</a>).</p>
<p>Table <a href="#tab:table_corr">3</a> shows the results of this analysis.
Overall, the correlations as measured by the <span class="math inline">\(phi\)</span>-coefficient are very
high. The systems showed correlations above or equal to <span class="math inline">\(0.88\)</span>, with
Elsevier and Auckland showing the highest value of <span class="math inline">\(0.93\)</span>. Considering
that our analysis involves not only one, but two translation
steps—from German to English and back—these results suggest that
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> can be
applied to non-English text, such as German, with very high accuracy.
One should note, however, that the quality of translation may vary
across languages and translation engines so additional work is needed to
compare performance across different languages.</p>
<div id="tab:my-table_corr">
<table style="width:74%;">
<caption>Table 3: <span class="math inline">\(phi\)</span>-coefficient between the labels for the original
English text and the labels for the back-translated
(English-German-English) English text</caption>
<colgroup>
<col style="width: 12%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Aurora</th>
<th style="text-align: left;">Elsevier</th>
<th style="text-align: left;">Auckland</th>
<th style="text-align: left;">SIRIS</th>
<th style="text-align: left;">SDSN</th>
<th style="text-align: left;">SDGO</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0.91</td>
<td style="text-align: left;">0.93</td>
<td style="text-align: left;">0.93</td>
<td style="text-align: left;">0.88</td>
<td style="text-align: left;">0.91</td>
<td style="text-align: left;">0.91</td>
</tr>
</tbody>
</table>
</div>
<h4 class="unnumbered" data-number="5.3" id="estimating-the-runtime-of-text2sdg">Estimating the runtime of text2sdg</h4>
<p>The analysis of text data can be computationally intense. To provide
some guidance on the expected runtime of
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> for data
with different numbers of documents and different document lengths, we
carried out several experiments. For this purpose, we first simulated
documents by concatenating 10, 100, 1,000, or 10,000 words drawn
randomly according to word frequencies in Wikipedia and combined 1, 10,
100, or 1,000 thus-generated documents into simulated data sets. Then we
evaluated the runtime of
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> separately
by system for the simulated data sets.</p>
<p>Figure <a href="#fig:figurebenchmark-plot">3</a> shows the average runtime in
seconds across 7,000 repetitions of each combination of document length
and number of documents for each of the labeling systems. The results
highlight noteworthy points. First, runtime is primarily a function of
the number of words, irrespective of how words are distributed across
documents. Second, the runtime per words decreases as the number of
words increases, which is due to a constant overhead associated with
optimizing the labeling systems’ queries. Third, there are considerable
differences in the runtime between systems, which is, in part, due to
the functions’ overhead and, in part, due to differences in number and
complexity of queries. The fastest system is Elsevier, processing 10
million words in roughly one minute; the slowest system is SIRIS,
processing 10 million words in about 40 minutes. Overall, these
experiments highlight that
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> can
efficiently process large amounts of text, but also that some care
should be exercised when dealing with extremely large or many texts. In
such cases, it may be advisable to rely on more efficient labeling
systems, such as Elsevier or SDSN.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:figurebenchmark-plot"></span>
<img src="benchmark_revision_final.png" alt="graphic without alt text" width="100%" />
<p class="caption">
Figure 3: Median runtime as a function of number of documents and document length using 6 different query systems. Each cell reflects the average runtime of 7,000 runs with numbers reflecting the median runtime in seconds and color reflecting the logarithm of the median runtime in seconds.
</p>
</div>
</div>
<h3 data-number="6" id="other-approaches-to-detecting-sdgs-in-text"><span class="header-section-number">6</span> Other approaches to detecting SDGs in text</h3>
<p>There are a number of other approaches to detecting SDGs in text. First,
there are approaches outside the R ecosystem. One such tool is the
European Union’s SDG Mapper
(<a href="https://knowsdgs.jrc.ec.europa.eu/sdgmapper" class="uri">https://knowsdgs.jrc.ec.europa.eu/sdgmapper</a>) that produces an
analysis of SDGs per document using an online interface in which
registered users can upload single documents. Another prominent example
is the OSDG tool developed by the SDG Ai Lab of the United Nations in
collaboration with private partners. It can detect SDGs in text that is
provided through the OSDG website (<a href="https://osdg.ai/" class="uri">https://osdg.ai/</a>) or, if granted
access, through an API. The OSDG tool builds on the SDG Ontology (SDGO)
that is also implemented in
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>. OSDG
additionally leverages a machine learning tool that was trained on
expert-labeled data to make the final predictions <span class="citation" data-cites="OSDG2">(<a href="#ref-OSDG2" role="doc-biblioref">Pukelis et al. 2022</a>)</span>. One
advantage of OSDG relative to
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> is that it
allows to detect SDGs in 15 different languages. This is done by using
translation of the input text into English before passing it through the
OSDG workflow. While this is convenient to the user, the same outcome
can be achieved with our package by making use of translation models
through, for example the
<a href="https://CRAN.R-project.org/package=deeplr"><strong>deeplr</strong></a> R package. As
our proof-of-concept above has shown,
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> can be used
with non-English text (e.g., German) with very high accuracy by using
such an approach.</p>
<p>Second, there are currently, to our knowledge, two other R packages
aimed at providing methods for the automated detection of SDGs in text.
The <a href="https://CRAN.R-project.org/package=SDGdetector"><strong>SDGdetector</strong></a>
package is based on a custom query system that was generated by pooling
several existing query systems and manual adaptions. The resulting
labeling system permits finer-grained predictions on the level of SDG
targets <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. However, the method is computationally taxing and limited
to texts that are shorter than 750 characters or approximately 150
words. The <strong>SDGmapR</strong> package builds on publicly available SDG keywords
that are assigned weights that indicate the degree to which a keyword
reflects a given SDG. The package computes SDG weights for each text by
adding up the weights of the keywords that were found in the text. The
larger this weight, the larger should be the likelihood that the text is
related to a specified SDG. The advantage of this approach is that it
permits customization of the decision boundary (i.e., the weight needed
to count a text as SDG related). However, the package does not give the
user a binary decision regarding whether a text relates to a given SDG.
None of the two packages offers an ensemble model that can be used to
categorize the presence of SDGs as is the case with
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>.</p>
<h3 data-number="7" id="discussion"><span class="header-section-number">7</span> Discussion</h3>
<p>The <a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> package
offers an open and easily accessible way of detecting SDGs in text using
both individual query systems, a state-of-the-art ensemble model that
combines queries from extant systems <span class="citation" data-cites="wulff2023using">(<a href="#ref-wulff2023using" role="doc-biblioref">Wulff et al. 2023</a>)</span>, as well as
custom-made queries.</p>
<p>While our package implements several query-based methods to detect SDGs
in text as well as a state-of-the-art ensemble model, the field of
detecting SDGs in text is rapidly evolving. Our aim is to continuously
update <a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> as
new open source methods of detecting SDGs in text are released. Bundling
many systems in a coherent API is not only convenient for users, but
also helps catalyze development of new and hopefully more accurate
methods by making it easy to compare the performance of the different
systems. We deliberately incorporated functions that allow users to
implement and test their own query systems to facilitate this process.
We also encourage others to contribute to
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> by adding
new systems or by expanding the existing functionalities to analyse the
output of the systems.</p>
<p>Indeed, although the systems implemented by
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> have been
shown to achieve high accuracy <span class="citation" data-cites="wulff2023using">(<a href="#ref-wulff2023using" role="doc-biblioref">Wulff et al. 2023</a>)</span>, it is important to
stress that these systems must be further developed to increase their
accuracy for a greater number of document types. Two approaches can help
in achieving this. First, unsupervised methods such as topic models
<span class="citation" data-cites="grun2011topicmodels">(<a href="#ref-grun2011topicmodels" role="doc-biblioref">Grün and Hornik 2011</a>)</span> or semantic network analysis <span class="citation" data-cites="siew2019cognitive">(<a href="#ref-siew2019cognitive" role="doc-biblioref">Siew et al. 2019</a>)</span>
can help in identifying novel linguistic patterns for the detection of
SDGs. One should note, however, that unsupervised methods are no
replacement for top-down, rule-based methods as implemented by
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>, because of
the strong requirement to compare results across data sets, analyses,
and time, which require a clear set of benchmarks that are not simply
data-driven. Second, recent transformer based models
<span class="citation" data-cites="reimers2019sentence">(<a href="#ref-reimers2019sentence" role="doc-biblioref">Reimers and Gurevych 2019</a>)</span> could be leveraged to learn more complex
relationships between specific linguistic patterns and SDGs. However,
the field will have to work towards producing more balanced training
data before the full potential of these approaches can be exploited.
Moreover, one should note that transformer models are computationally
expensive and often limited to short text due to architecture
constraints <span class="citation" data-cites="ding2020cogltx">(<a href="#ref-ding2020cogltx" role="doc-biblioref">Ding et al. 2020</a>)</span>. Whether such developments will emerge and
can be ultimately integrated into
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a> or will
represent alternative approaches remains an open question.</p>
<h3 data-number="8" id="conclusion"><span class="header-section-number">8</span> Conclusion</h3>
<p>In this article, we introduced a new R package,
<a href="https://CRAN.R-project.org/package=text2sdg"><strong>text2sdg</strong></a>, designed to
help identify SDGs from text. The package promises to help detect SDGs
in text sources using different existing or custom-made labeling systems
as well as a high-performance ensemble model that builds on these
labeling systems. Our case study and additional analyses suggest that
the approach can handle both sources in English as well as translations,
allows user-friendly use of novel queries, and provides reasonably
efficient performance for analysing large corpora.</p>
</div>
<h3 class="appendix" data-number="9" id="cran-packages-used"><span class="header-section-number">9</span> CRAN packages used</h3>
<p><a href="https://cran.r-project.org/package=text2sdg">text2sdg</a>, <a href="https://cran.r-project.org/package=corpustools">corpustools</a>, <a href="https://cran.r-project.org/package=readr">readr</a>, <a href="https://cran.r-project.org/package=ggplot2">ggplot2</a>, <a href="https://cran.r-project.org/package=deeplr">deeplr</a>, <a href="https://cran.r-project.org/package=SDGdetector">SDGdetector</a></p>
<h3 class="appendix" data-number="10" id="cran-task-views-implied-by-cited-packages"><span class="header-section-number">10</span> CRAN Task Views implied by cited packages</h3>
<p><a href="https://cran.r-project.org/view=ChemPhys">ChemPhys</a>, <a href="https://cran.r-project.org/view=Phylogenetics">Phylogenetics</a>, <a href="https://cran.r-project.org/view=Spatial">Spatial</a>, <a href="https://cran.r-project.org/view=TeachingStatistics">TeachingStatistics</a>, <a href="https://cran.r-project.org/view=WebTechnologies">WebTechnologies</a></p>
<h3 class="appendix" data-number="11" id="note"><span class="header-section-number">11</span> Note</h3>
<p>This article is converted from a Legacy LaTeX article using the
<a href="https://cran.r-project.org/package=texor">texor</a> package.
The pdf version is the official version. To report a problem with the html,
refer to CONTRIBUTE on the R Journal homepage.</p>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Bautista2019" class="csl-entry" role="listitem">
N. Bautista. SDG ontology. 2019. URL <a href="https://doi.org/10.6084/m9.figshare.11106113.v1">https://doi.org/10.6084/m9.figshare.11106113.v1</a>.
</div>
<div id="ref-ding2020cogltx" class="csl-entry" role="listitem">
M. Ding, C. Zhou, H. Yang and J. Tang. Cogltx: Applying bert to long texts. <em>Advances in Neural Information Processing Systems</em>, 33: 12792–12804, 2020.
</div>
<div id="ref-duran_silva_nicolau_2019_3567769" class="csl-entry" role="listitem">
N. Duran-Silva, E. Fuster, F. A. Massucci and A. Quinquillà. <span class="nocase">A controlled vocabulary defining the semantic perimeter of Sustainable Development Goals</span>. 2019. URL <a href="https://doi.org/10.5281/zenodo.3567769">https://doi.org/10.5281/zenodo.3567769</a>.
</div>
<div id="ref-grun2011topicmodels" class="csl-entry" role="listitem">
B. Grün and K. Hornik. Topicmodels: An r package for fitting topic models. <em>Journal of statistical software</em>, 40: 1–30, 2011. DOI <a href="https://doi.org/10.18637/jss.v040.i13">https://doi.org/10.18637/jss.v040.i13</a>.
</div>
<div id="ref-jayabalasingham2019identifying" class="csl-entry" role="listitem">
B. Jayabalasingham, R. Boverhof, K. Agnew and L. Klein. Identifying research supporting the united nations sustainable development goals. <em>Mendeley Data</em>, 1: 2019. URL <a href="https://doi.org/10.17632/87txkw7khs.1">https://doi.org/10.17632/87txkw7khs.1</a>.
</div>
<div id="ref-meier_2024_11060662" class="csl-entry" role="listitem">
D. S. Meier. Descriptions of SNSF-funded research projects. 2024. URL <a href="https://doi.org/10.5281/zenodo.11060662">https://doi.org/10.5281/zenodo.11060662</a>.
</div>
<div id="ref-OSDG2" class="csl-entry" role="listitem">
L. Pukelis, N. Bautista-Puig, G. Statulevičiūtė, V. Stančiauskas, G. Dikmener and D. Akylbekova. OSDG 2.0: A multilingual tool for classifying text data by UN sustainable development goals (SDGs). 2022. URL <a href="https://arxiv.org/abs/2211.11252">https://arxiv.org/abs/2211.11252</a>.
</div>
<div id="ref-pukelis2020osdg" class="csl-entry" role="listitem">
L. Pukelis, N. B. Puig, M. Skrynik and V. Stanciauskas. OSDG–open-source approach to classify text data by UN sustainable development goals (SDGs). <em>arXiv preprint arXiv:2005.14569</em>, 2020. DOI <a href="https://doi.org/10.48550/arXiv.2005.14569">https://doi.org/10.48550/arXiv.2005.14569</a>.
</div>
<div id="ref-reimers2019sentence" class="csl-entry" role="listitem">
N. Reimers and I. Gurevych. Sentence-bert: Sentence embeddings using siamese bert-networks. <em>arXiv preprint arXiv:1908.10084</em>, 2019. DOI <a href="https://doi.org/10.48550/arXiv.1908.10084">https://doi.org/10.48550/arXiv.1908.10084</a>.
</div>
<div id="ref-siew2019cognitive" class="csl-entry" role="listitem">
C. S. Siew, D. U. Wulff, N. M. Beckage and Y. N. Kenett. Cognitive network science: A review of research on cognition through the lens of network representations, processes, and dynamics. <em>Complexity</em>, 2019: 2019. DOI <a href="https://doi.org/10.1155/2019/2108423">https://doi.org/10.1155/2019/2108423</a>.
</div>
<div id="ref-sdsn" class="csl-entry" role="listitem">
Sustainable Development Solutions Network (SDSN). Compiled list of SDG keywords., 2021. URL <a href="https://ap-unsdsn.org/regional-initiatives/universities-sdgs/">https://ap-unsdsn.org/regional-initiatives/universities-sdgs/</a> [online; last accessed September 30, 2010].
</div>
<div id="ref-SGD_report2022" class="csl-entry" role="listitem">
UN. <em><span>The Sustainable Development Goals Report 2022</span>.</em> United Nations, 2022.
</div>
<div id="ref-vanderfeesten_maurice_2020_3817445" class="csl-entry" role="listitem">
M. Vanderfeesten, R. Otten and E. Spielberg. <span class="nocase">Search Queries for "Mapping Research Output to the Sustainable Development Goals (SDGs)" v5.0</span>. 2020a. URL <a href="https://doi.org/10.5281/zenodo.3817445">https://doi.org/10.5281/zenodo.3817445</a>.
</div>
<div id="ref-vanderfeesten_maurice_2020_3813230" class="csl-entry" role="listitem">
M. Vanderfeesten, E. Spielberg and Y. Gunes. <span class="nocase">Survey data of "Mapping Research Output to the Sustainable Development Goals (SDGs)"</span>. 2020b. URL <a href="https://doi.org/10.5281/zenodo.3813230">https://doi.org/10.5281/zenodo.3813230</a>.
</div>
<div id="ref-wang2023mapping" class="csl-entry" role="listitem">
W. Wang, W. Kang and J. Mu. Mapping research to the sustainable development goals (SDGs). 2023. URL <a href="https://doi.org/10.21203/rs.3.rs-2544385/v1">https://doi.org/10.21203/rs.3.rs-2544385/v1</a>.
</div>
<div id="ref-corpustools" class="csl-entry" role="listitem">
K. Welbers and W. van Atteveldt. <em>Corpustools: Managing, querying and analyzing tokenized text.</em> 2021. URL <a href="https://CRAN.R-project.org/package=corpustools">https://CRAN.R-project.org/package=corpustools</a>. R package version 0.4.8.
</div>
<div id="ref-ggplot2" class="csl-entry" role="listitem">
H. Wickham. <em>ggplot2: Elegant graphics for data analysis.</em> Springer-Verlag New York, 2016. URL <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-readr" class="csl-entry" role="listitem">
H. Wickham, J. Hester and J. Bryan. <em>Readr: Read rectangular text data.</em> 2021. URL <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>. R package version 2.1.1.
</div>
<div id="ref-wulff2023using" class="csl-entry" role="listitem">
D. U. Wulff, D. S. Meier and R. Mata. Using novel data and ensemble models to improve automated labeling of sustainable development goals. <em>arXiv preprint arXiv:2301.11353</em>, 2023.
</div>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Note that the meaning of these wildcards differs from regex
wildcards.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Each SDG has several targets that are operationalized with
indicators (SDG/targets/indicators). For example the first target of
SDG 1 reads as follows: "By 2030, eradicate extreme poverty for all
people everywhere, currently measured as people living on less than
$1.25 a day".</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></li>
</ol>
</section>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="references">References</h3>
  <div id="references-listing"></div>
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Meier, et al., "text2sdg: An R Package to Monitor Sustainable Development Goals from Text", The R Journal, 2025</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@article{RJ-2024-005,
  author = {Meier, Dominik S. and Mata, Rui and Wulff, Dirk U.},
  title = {text2sdg: An R Package to Monitor Sustainable Development Goals from Text},
  journal = {The R Journal},
  year = {2025},
  note = {https://doi.org/10.32614/RJ-2024-005},
  doi = {10.32614/RJ-2024-005},
  volume = {16},
  issue = {1},
  issn = {2073-4859},
  pages = {83-95}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p>© The R Foundation, <a href="mailto:r-journal@r-project.org">web page
contact</a>.</p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
