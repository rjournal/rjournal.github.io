# Generated by `rjournal_pdf_article()` using `knitr::purl()`: do not edit by hand
# Please edit RJ-2025-1-cran.Rmd to modify this file

## ----global_options, include=FALSE, message=FALSE-----------------------------
knitr::opts_chunk$set(fig.pos = 'H')


## ----cran_growth_data, include=FALSE, message=FALSE---------------------------
from <- as.Date("2025-01-01")
to <- as.Date("2025-03-31")

cran_growth <- readRDS("cran_growth.rds")
cran_zoo <- cran_growth$zoo
loadNamespace("zoo")

nmonths <- cran_growth$nmonths
npackages <- cran_growth$npackages
mirrors <- cran_growth$mirrors


## ----cran_growth, fig.height=7, fig.width=10, fig.align='center', out.width = "100%", fig.alt="CRAN growth: Number of CRAN packages over time in levels (left) and in logs (right).", echo=FALSE----
par(mfrow = c(1, 2))
plot(cran_zoo, lwd = 3, xlab = "Year", ylab = "", main = "Number of CRAN Packages")
plot(cran_zoo, lwd = 3, log = "y", xlab = "Year", ylab = "", main = "Number of CRAN Packages (Log-Scale)")


## ----cran_submissions_data, include=FALSE-------------------------------------
## generate on cran master via cran_submissions(from, to, ...)
cran_sub <- readRDS("cran_submissions.rds")


## ----cran_submissions_autouser, echo=FALSE------------------------------------
knitr::kable(cran_sub$autouser[, !grepl("clang|special", colnames(cran_sub$autouser))], format = "pipe")


## ----cran_submissions_autolast, echo=FALSE------------------------------------
knitr::kable(cran_sub$autolast, format = "pipe", align = "rr")


## ----cran_views_data, include=FALSE-------------------------------------------
## generate via cran_views(new = "Paleontology")
cran_views <- readRDS("cran_views.rds")
cran_views$active <- cran_views$ntotal/as.numeric(tail(cran_zoo, 1))


## ----cran_views_new, echo=FALSE, results="asis"-------------------------------
writeLines(cran_views$new)

