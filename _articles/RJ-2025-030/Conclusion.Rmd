---
output: pdf_document
#bibliography: RImageReview.bib
---

```{r setup4, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

```

The Tables \@ref(tab:overview1) and \@ref(tab:overview2) highlight an array of `R`
packages employed within bioimage informatics. These tools cater to diverse
applications such as adaptive smoothing, vegetation phenology analysis,
microbial culture imaging, cancer imaging, mass spectrometry imaging, shape
analysis, spectral and spatial analysis, magnetic resonance image processing,
calcium imaging, galaxy image analysis, neuroimaging, geometric morphometric
shape analysis, medical image processing, edge detection, body and face
recognition, jump regression, denoising, and deblurring.

Many of these packages rely on common image processing libraries such as
'ImageMagick' and 'CImg' or specialized libraries like 'RNifti' for neuroimaging
data and OpenCV for computer vision tasks. Some notable examples include
`adimpro`, `gitter`, `SAFARI`, `pavo`, `rental`, `scalpel`, `ProFit`, and `fsbrain`.

The majority of these packages are hosted on CRAN, which serves as the primary
repository for `R` packages. Notably, one package, rental, is hosted on GitLab,
indicating that some packages may also be developed and distributed through
alternative platforms. `R` is an open-source, free, and cross-platform
programming language that extends these values to its packages
[@R_Core_Team]. The CRAN Repository Policy states that package authors
"should make all reasonable efforts to provide cross-platform portable code,"
typically requiring packages to run on at least two major `R`
platforms.^[https://cran.r-project.org/web/packages/policies.html, accessed 06/10/2024] Similarly,
the standard tests employed by Bioconductor encompass evaluations on all major
platforms, including Linux, macOS, and
Windows.^[https://contributions.bioconductor.org/bioconductor-package-submissions.html, accessed 06/10/2024]
Thus, it can be concluded that the majority of packages in these repositories
are compatible across multiple platforms.

The most commonly used license in this domain is the GNU General Public License
(GPL), particularly versions 2 and 3. Other licenses employed include the Lesser
GNU General Public License (LGPL), MIT, Apache License 2.0, and others. The
prevalence of open-source licenses reflects the collaborative nature of `R`
package development. It's essential to ensure compatibility when combining code
from different packages with varying licenses; otherwise, legal considerations
might arise.

As previously outlined, the most fundamental image processing packages in `R` are
`imager`, `magick`, `EBImage`, `OpenImageR`, and `SimpleITK`. Primarily,
`imager`, `magick`, and `EBImage` form the foundation for the majority of the
specialized packages reviewed. These packages support various formats, with JPEG
and PNG being the most common and supported by all five packages. BMP and TIFF
are also widely supported, while PDF and SVG formats are exclusively supported
by `magick`.

```{r, fig.show='hold', fig.align='center', echo=FALSE}
sup_formats <- read.csv("data/supported_formats.csv")
knitr::kable(
  sup_formats,
  format = "markdown",
  booktabs = TRUE,
  caption = "Supported File Formats by Main Image Processing Packages",
  col.names = c("",
                "`imager`",
                "`magick`",
                "`EBImage`",
                "`OpenImageR`",
                "`SimpleITK`"),
  align = "lccccc",
  escape = FALSE
)
```

The ongoing development of new code by the `R` community
significantly enhances the capabilities of image analysis, fostering both growth
and adaptability within the community. This ensures that `R` remains
well-equipped to address emerging challenges effectively. The result is a
diverse range of image processing packages, including versatile general-purpose
tools and specialized pipelines designed for intricate analyses of biological
images. This extensive array of tools in `R` not only demonstrates the versatility
and applicability of these packages across different scientific disciplines but
also solidifies `R`'s position as an invaluable resource for researchers
interested in leveraging image analysis to uncover novel insights. This review
provides a concise overview of the current landscape of image processing
packages available in `R`, emphasizing the pivotal role these tools play in
advancing scientific research and discovery. The comprehensive toolkit, `R`,
empowers researchers to drive forward innovations and enrich the scientific
community. Finally, it is noteworthy that 92% of the 38 discovered packages are
active in their respective repositories and thus considered up to date.
Furthermore, 66% of these packages have been actively maintained with updates
in the past 1.5 years. Among the identified packages, 14 provide users with GUIs
or interactive functions. These packages include: `FIELDimageR`, `cytomapper`,
`colocr`, `biopixR`, `EBImage`, `magick`, `imager`, `pavo`, `pliman`,
`imagefluency`, `geomorph`, `fsbrain`, `scalpel`, and `adimpro`. The majority of
the 38 packages identified during the research can be considered autonomous,
offering all the necessary features for extensive image data analysis,
including image import, processing, and visualization. However, some packages
related to multiplex imaging necessitate preprocessing, rendering them unable to
provide a complete analysis within the `R` environment.

All mentioned packages are open source and available either on CRAN,
Bioconductor or GitHub.

Predicting the future is challenging, yet here we provide some opinions on 
trends in bioimage informatics, which ultimately will also be seen in `R`. 
Publications and conferences in the fields of image processing and computer 
vision show that advances are driven by artificial intelligence (AI), deep 
learning (particularly Convolutional Neural Networks (CNNs), Large Language 
Models (LLMs), and Vision Transformer models (VTs)), and data visualization 
[@ye_generative_2024; @belcher_demystifying_2023; 
@rabbani_review_2021; @hameed_content-based_2021; 
@van_der_velden_explainable_2022]. 
One example of deep learning is `imageseg`, which is using a CNN (U-Net and U-Net++
architectures) for general purpose image segmentation [@niedballa_imageseg_2022]. Another 
development is the deeper integration of `R` with advanced deep learning 
frameworks, which will enable users to build and deploy models, with 
applications like image classification, segmentation, and object detection. An example of
such integration is `ellmer`, which makes various LLMs accessible from `R` for 
output streaming, tool calling, and structured data extraction.

The question arises: Is AI merely a buzzword, or is it here to stay? Given that 
AI is grounded in science and we already see applications in `R`, 
the latter is more probable. Consequently, `R` 
bioimage packages will be developed that combine image data with other 
multimodal data types, such as text and sensor data. Generative AI and advanced 
visualization techniques are also one topic due to the availability of 
generative models like diffusion models and Generative Adversarial Networks 
(GANs). These technologies open new possibilities for image augmentation and 
enhanced data visualization. It is important that such technologies stick to 
one of `R`'s strengths, which is explainability, in particular focusing on transparent, 
understandable, and explainable AI (xAI).
