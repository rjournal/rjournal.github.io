\documentclass{standalone}
\usepackage{xcolor}
\usepackage{verbatim}
\usepackage{tikz}
\usepackage[T1]{fontenc}
\usepackage{graphics}
\usepackage{hyperref}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\R}{R}
\newcommand{\pkg}[1]{#1}
\newcommand{\CRANpkg}[1]{\pkg{#1}}%
\newcommand{\BIOpkg}[1]{\pkg{#1}}
\usetikzlibrary{fit}
\begin{document}
\nopagecolor

  \centering
  \tikzstyle{rect} = [rectangle, draw, text centered, inner sep=1pt,
                      minimum width=1.5cm, minimum height=0.6cm]
  \begin{tikzpicture}[font=\footnotesize, thick]
    \node[rect] (planet)   at (-4, 3) {Planet file};
    \node[rect] (api)      at (-4, 1) {API v0.6};
    \node[rect] (osm)   at (0, 2) {\code{OSM-XML}};
    \node[rect] (osmar) at (4, 2) {\code{osmar}};
    \node[rect] (igraph) at (8, 4) {\pkg{igraph}};
    \node[rect] (sp)     at (8, 2) {\pkg{sp}};
    \node[rect] (dots)   at (8, 0) {\pkg{$\ldots$}};
    \path (planet.east) edge[->] node[fill=white]{\code{get\_osm\_data()}} (osm.west);
    \path (api.east) edge[->] node[fill=white]{\code{get\_osm\_data()}} (osm.west);
    \path (osm) edge[->] node[fill=white]{\code{as\_osmar()}} (osmar);
    \path (osmar.east) edge[->] node[fill=white]{\code{as\_igraph()}} (igraph.west);
    \path (osmar.east) edge[->] node[fill=white]{\code{as\_sp()}} (sp.west);
    \path (osmar.east) edge[->] node[fill=white]{\code{as\_$\ldots$()}} (dots.west);
    \node at (osmar.south) [below, align=center] {\code{summary()}\\\code{find()}\\\code{subset()}\\\code{$\ldots$}};
    \node (get) [rect,fit=(osm), dotted, minimum width=6cm, minimum
                 height=3cm, xshift=-0.15cm] {};
    \node at (get.north) [above] {\code{get\_osm()}};
  \end{tikzpicture}
\end{document}
