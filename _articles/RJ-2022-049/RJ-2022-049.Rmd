---
title: 'rbw: An R Package for Constructing Residual Balancing Weights'
abstract: ' We describe the R package [rbw](https://CRAN.R-project.org/package=rbw),
  which implements the method of residual balancing weights (RBW) for estimating marginal
  structural models. In contrast to other methods such as inverse probability weighting
  (IPW) and covariate balancing propensity scores (CBPS), RBW involves modeling the
  conditional means of post-treatment confounders instead of the conditional distributions
  of the treatment to construct the weights. RBW is thus easier to use with continuous
  treatments, and the method is less susceptible to model misspecification issues
  that often arise when modeling the conditional distributions of treatments. RBW
  is also advantageous from a computational perspective. As its weighting procedure
  involves a convex optimization problem, RBW typically locates a solution considerably
  faster than other methods whose optimization relies on nonconvex loss functions
  --- such as the recently proposed nonparametric version of CBPS. We explain the
  rationale behind RBW, describe the functions in [rbw](https://CRAN.R-project.org/package=rbw),
  and then use real-world data to illustrate their applications in three scenarios:
  effect estimation for point treatments, causal mediation analysis, and effect estimation
  for time-varying treatments with time-varying confounders. '
author:
- name: Derick S. Baum
  affiliation: Harvard University
  address:
  - Department of Sociology
  - |
    [`derick_baum@g.harvard.edu`](mailto:derick_baum@g.harvard.edu)
- name: Xiang Zhou
  affiliation: Harvard University
  address:
  - Department of Sociology
  - |
    [`xiang_zhou@fas.harvard.edu`](mailto:xiang_zhou@fas.harvard.edu)
date: '2022-12-20'
date_received: '2021-10-04'
journal:
  firstpage: 174
  lastpage: 192
volume: 14
issue: 3
slug: RJ-2022-049
packages:
  cran: ~
  bioc: ~
draft: no
preview: preview.png
bibliography: baum-zhou-final.bib
CTV: ~
output:
  rjtools::rjournal_article:
    self_contained: no
    toc: no
    legacy_pdf: yes

---
